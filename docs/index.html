<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TinyMLâ€‘DigitRecognizer Â· Train in Python Â· Infer in C</title>
  <meta name="description" content="å¾ Python è¨“ç·´åˆ° C æ¨è«–çš„ TinyML æ•¸å­—è¾¨è­˜å°ˆæ¡ˆï¼šåœ¨è³‡æºå—é™è£ç½®ä¸ŠåŸ·è¡Œçš„ç«¯å´ AI ç¯„ä¾‹ã€‚" />
  <meta property="og:title" content="TinyMLâ€‘DigitRecognizer" />
  <meta property="og:description" content="Train in Python Â· Infer in C Â· Run on constrained devices" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://wupinliang.github.io/TinyML-DigitRecognizer/" />
  <meta name="theme-color" content="#0ea5e9" />
  <style>
    :root{
      --bg: #0b0c10;
      --panel:#111318;
      --text:#e8eaed;
      --muted:#a9b0bb;
      --brand:#0ea5e9;
      --ring:#22d3ee;
      --card:#0e1116;
      --code:#0b1220;
      --ok:#22c55e;
      --warn:#f59e0b;
      --err:#ef4444;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 16px;
    }
    @media (prefers-color-scheme: light){
      :root{
        --bg:#f6f8fb; --panel:#ffffff; --text:#0f172a; --muted:#5b6472;
        --card:#ffffff; --code:#0f172a0d; --shadow:0 12px 24px rgba(2,6,23,.08);
      }
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font:16px/1.65 system-ui,-apple-system,Segoe UI,Roboto,Arial,"Noto Sans TC","PingFang TC","Microsoft JhengHei",sans-serif}
    a{color:var(--brand);text-decoration:none} a:hover{text-decoration:underline}
    .container{max-width:1024px;margin:0 auto;padding:32px 20px}
    .nav{position:sticky;top:0;backdrop-filter:saturate(180%) blur(8px);background:color-mix(in oklab, var(--bg) 75%, transparent);border-bottom:1px solid color-mix(in oklab, var(--text) 12%, transparent);z-index:50}
    .nav-inner{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px 20px;max-width:1100px;margin:0 auto}
    .brand{display:flex;align-items:center;gap:10px;font-weight:800}
    .badge{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border:1px solid color-mix(in oklab,var(--text) 15%, transparent);border-radius:999px;background:color-mix(in oklab,var(--panel) 90%, transparent);color:var(--text);font-size:13px}
    .row{display:grid;grid-template-columns:1.25fr .9fr;gap:24px}
    @media (max-width:960px){.row{grid-template-columns:1fr}}
    .hero{display:flex;flex-direction:column;gap:14px;margin-top:18px}
    .hero h1{font-size: clamp(28px, 3.4vw, 44px); line-height:1.15; margin:0}
    .hero p{margin:0;color:var(--muted)}
    .cta{display:flex;flex-wrap:wrap;gap:12px;margin-top:10px}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:12px;border:1px solid color-mix(in oklab,var(--text) 18%, transparent);background:linear-gradient(180deg,color-mix(in oklab,var(--panel) 92%, transparent), color-mix(in oklab,var(--panel) 80%, transparent));color:var(--text);box-shadow:var(--shadow)}
    .btn:hover{transform:translateY(-1px)}
    .card{background:var(--card);border:1px solid color-mix(in oklab,var(--text) 10%, transparent);border-radius:var(--radius);box-shadow:var(--shadow);padding:18px}
    .card h3{margin-top:0}
    .kpi{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin:22px 0}
    @media (max-width:720px){.kpi{grid-template-columns:repeat(2,1fr)}}
    .kpi .item{background:var(--panel);border:1px solid color-mix(in oklab,var(--text) 10%, transparent);border-radius:14px;padding:14px;text-align:center}
    .muted{color:var(--muted)}
    .mono{font-family: ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Noto Sans Mono CJK TC",monospace}
    pre,code{font-family: ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Noto Sans Mono CJK TC",monospace}
    pre{background:var(--code);color:var(--text);padding:14px;border-radius:12px;overflow:auto;border:1px solid color-mix(in oklab,var(--text) 10%, transparent)}
    .grid-8{display:grid;grid-template-columns:repeat(8,1fr);gap:4px}
    .pix{width:100%;aspect-ratio:1;border-radius:6px;background:#0f172a22;border:1px solid color-mix(in oklab,var(--text) 14%, transparent)}
    .toolbar{display:flex;flex-wrap:wrap;gap:8px;margin:10px 0}
    .input, select{background:var(--panel);border:1px solid color-mix(in oklab,var(--text) 18%, transparent);color:var(--text);padding:8px 10px;border-radius:10px}
    .copy{cursor:pointer}
    .table{width:100%;border-collapse:separate;border-spacing:0;background:var(--panel);border:1px solid color-mix(in oklab,var(--text) 10%, transparent);border-radius:14px;overflow:hidden}
    .table th,.table td{padding:10px 12px;border-bottom:1px solid color-mix(in oklab,var(--text) 10%, transparent);text-align:left}
    .table th{background:color-mix(in oklab,var(--panel) 96%, transparent);font-weight:700}
    .table tr:last-child td{border-bottom:0}
    .footer{margin-top:32px;padding:24px 0;border-top:1px dashed color-mix(in oklab,var(--text) 16%, transparent);color:var(--muted)}
    .pill{display:inline-flex;gap:8px;align-items:center;padding:6px 10px;border-radius:999px;background:color-mix(in oklab,var(--brand) 14%, transparent);border:1px solid color-mix(in oklab,var(--brand) 30%, transparent)}
    details{border:1px solid color-mix(in oklab,var(--text) 12%, transparent);border-radius:12px;padding:10px 12px;background:color-mix(in oklab,var(--panel) 96%, transparent)}
    details+details{margin-top:10px}
    summary{cursor:pointer;font-weight:700}
    .ok{color:var(--ok)} .warn{color:var(--warn)} .err{color:var(--err)}
  </style>
</head>
<body>
  <nav class="nav">
    <div class="nav-inner">
      <div class="brand">ğŸ”¢ <span>TinyMLâ€‘DigitRecognizer</span></div>
      <div class="cta">
        <a class="badge" href="https://github.com/WuPinLiang/TinyML-DigitRecognizer" target="_blank" rel="noopener">GitHub</a>
        <a class="badge" href="https://colab.research.google.com/github/WuPinLiang/TinyML-DigitRecognizer/blob/main/notebooks/MicroProcessor.ipynb" target="_blank" rel="noopener">Open in Colab</a>
        <a class="badge" href="#try">Samples</a>
        <a class="badge" href="#usage">ä½¿ç”¨æ–¹å¼</a>
        <a class="badge" href="#deploy">éƒ¨ç½²åˆ° C</a>
      </div>
    </div>
  </nav>

  <header class="container hero">
    <h1>Train in Python Â· <span class="pill">Infer in C</span> Â· Run on constrained devices</h1>
    <p>é€™æ˜¯ä¸€å€‹å¾ <b>Python è¨“ç·´</b> â†’ <b>åŒ¯å‡ºæ¬Šé‡</b> â†’ <b>C èªè¨€æ¨è«–</b> çš„å®Œæ•´ TinyML ç¯„ä¾‹ï¼›å±•ç¤ºå¦‚ä½•æŠŠ <span class="mono">MNIST-like 8Ã—8</span> ä½åœ–æ•¸å­—é€é€²æ¥µå°æ¨¡å‹ä¸¦åœ¨å¾®æ§åˆ¶å™¨æƒ…å¢ƒæ¨è«–ã€‚</p>
    <div class="kpi">
      <div class="item"><div class="muted">æ¨¡å‹</div><div class="mono">2-layer FC + ReLU</div></div>
      <div class="item"><div class="muted">è¼¸å…¥ç¶­åº¦</div><div class="mono">8Ã—8 â†’ 64</div></div>
      <div class="item"><div class="muted">æ¨è«–ç«¯</div><div class="mono">C / 8051 é¢¨æ ¼</div></div>
      <div class="item"><div class="muted">æˆæ¬Š</div><div class="mono">MIT</div></div>
    </div>
  </header>

  <main class="container">
    <div class="row">
      <!-- Left column: About & How it works -->
      <section class="card">
        <h3 id="about">å°ˆæ¡ˆèªªæ˜</h3>
        <p>æ­¤å°ˆæ¡ˆæä¾›æœ€å°å¯è¡Œã€å¯è®€æ€§é«˜çš„ç«¯å´ AI ç¯„ä¾‹ï¼šæ–¼ <span class="mono">notebooks/MicroProcessor.ipynb</span> è¨“ç·´ä¸€å€‹å°å‹å…¨é€£æ¥ç¶²è·¯ï¼Œå°‡ <b>Hidden/Output çš„ Weights èˆ‡ Bias</b> ä»¥ç´”æ–‡å­—åŒ¯å‡ºï¼ˆ<span class="mono">weights_raw/</span>ï¼‰ï¼Œå†è½‰æ›æˆ C å¯ include çš„é™£åˆ—ï¼ˆ<span class="mono">weights/weights.c</span>, <span class="mono">weights/weights.h</span>ï¼‰ï¼Œæœ€å¾Œåœ¨ <span class="mono">src/</span> ä»¥ C å®Œæˆå‰å‘æ¨è«–èˆ‡ Argmax é æ¸¬ã€‚Repo çµæ§‹è¦‹ä¸‹ã€‚<span class="muted">ï¼ˆè·¯å¾‘ä¾†æºï¼šä½ çš„å€‰åº«ç›®éŒ„ï¼‰</span></p>
        <table class="table">
          <thead><tr><th>è³‡æ–™å¤¾ / æª”æ¡ˆ</th><th>ç”¨é€”</th></tr></thead>
          <tbody>
            <tr><td><a href="../notebooks" target="_blank" rel="noopener">notebooks/</a></td><td>è¨“ç·´èˆ‡åŒ¯å‡ºæ¬Šé‡ï¼ˆColab å‹å–„ï¼‰</td></tr>
            <tr><td><a href="../weights_raw" target="_blank" rel="noopener">weights_raw/</a></td><td>ç´”æ–‡å­—æ¬Šé‡ï¼ˆHidden Bias/Weightã€Output Bias/Weightï¼‰</td></tr>
            <tr><td><a href="../weights" target="_blank" rel="noopener">weights/</a></td><td>C èªè¨€å¯ include çš„æ¬Šé‡é™£åˆ—</td></tr>
            <tr><td><a href="../src" target="_blank" rel="noopener">src/</a>ã€<a href="../include" target="_blank" rel="noopener">include/</a></td><td>å‰å‘æ¨è«–ã€ReLUã€Argmax ç­‰ç¨‹å¼</td></tr>
            <tr><td><a href="../samples" target="_blank" rel="noopener">samples/</a></td><td>8Ã—8 æ¸¬è©¦æ¨£æœ¬ï¼ˆç´”æ–‡å­—ï¼‰</td></tr>
            <tr><td><a href="../Makefile" target="_blank" rel="noopener">Makefile</a></td><td>å»ºç½®èˆ‡åŸ·è¡Œ</td></tr>
          </tbody>
        </table>

        <details>
          <summary>æ¨¡å‹èˆ‡è¨“ç·´ï¼ˆç°¡è¿°ï¼‰</summary>
          <ul>
            <li>æ¶æ§‹ï¼š<span class="mono">FC(64 â†’ H)</span> + ReLU â†’ <span class="mono">FC(H â†’ 10)</span> + Argmax</li>
            <li>è¼¸å…¥ï¼š8Ã—8 ä½åœ–ï¼ˆ0/1 æˆ– 0â€“255ï¼‰å±•å¹³æˆ 64 ç¶­</li>
            <li>åŒ¯å‡ºï¼šå››ä»½åƒæ•¸ <span class="mono">Hidden Bias / Hidden Weight / Output Bias / Output Weight</span>ï¼ˆæ”¾æ–¼ <span class="mono">weights_raw/</span>ï¼‰</li>
            <li>è½‰æ›ï¼šç”¢ç”Ÿ <span class="mono">weights/weights.c, weights.h</span> ä¾› C ç«¯ include ä½¿ç”¨</li>
          </ul>
        </details>

        <details>
          <summary>ç‚ºä½•é¸æ“‡ C ç«¯æ¨è«–ï¼Ÿ</summary>
          <p>åœ¨å¾®æ§åˆ¶å™¨ï¼ˆMCUï¼‰æˆ–é¡ 8051 çš„è³‡æºå—é™ç’°å¢ƒï¼Œå°‡ç°¡å–® NN ä»¥ç´” C å¯¦ä½œå¯å¾—åˆ°æœ€å°ä¾è³´ã€æœ€ä½³å¯æ”œæ€§ï¼Œä¸¦ä¸”èƒ½æ›´ç›´è§€åœ°ç¤ºç¯„ã€Œè¨“ç·´åœ¨ PC/Colabã€æ¨è«–åœ¨è£ç½®ã€çš„ TinyML æ€ç¶­ã€‚</p>
        </details>
      </section>

      <!-- Right column: Interactive Samples -->
      <section class="card" id="try">
        <h3>è©¦ç© 8Ã—8 æ¨£æœ¬ï¼ˆç›´æ¥è¼‰å…¥ <span class="mono">samples/*.txt</span>ï¼‰</h3>
        <div class="toolbar">
          <label>é¸æ“‡æ•¸å­—ï¼š
            <select id="digitSelect">
              <option value="0">0</option><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option>
              <option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option>
            </select>
          </label>
          <button class="btn" id="loadBtn">è¼‰å…¥æ¨£æœ¬</button>
          <button class="btn" id="copyBtn">è¤‡è£½åŸå§‹æ–‡å­—</button>
        </div>
        <div class="grid-8" id="grid"></div>
        <h4>Raw Text</h4>
        <pre id="raw" class="mono muted">ï¼ˆæŒ‰ã€Œè¼‰å…¥æ¨£æœ¬ã€è®€å– <span class="mono">samples/&lt;digit&gt;.txt</span>ï¼‰</pre>
        <p class="muted">æ­¤é é¢ <b>ä¸åœ¨ç€è¦½å™¨åŸ·è¡Œæ¨è«–</b>ï¼›å¦‚è¦è·‘ C ç¯„ä¾‹è«‹è¦‹ä¸‹æ®µå‘½ä»¤ã€‚</p>
      </section>
    </div>

    <!-- Usage -->
    <section class="card" id="usage">
      <h3>å¿«é€Ÿé–‹å§‹</h3>
      <ol>
        <li><b>Colab è¨“ç·´ï¼ˆå¯é¸ï¼‰</b>ï¼š<a href="https://colab.research.google.com/github/WuPinLiang/TinyML-DigitRecognizer/blob/main/notebooks/MicroProcessor.ipynb" target="_blank" rel="noopener">é–‹å•Ÿ Notebook</a> ä¸¦åŸ·è¡Œåˆ°åŒ¯å‡ºæ¬Šé‡ã€‚</li>
        <li><b>æœ¬æ©Ÿå»ºç½®</b>ï¼ˆéœ€ gcc/clangï¼‰ï¼š</li>
      </ol>
      <pre class="mono">make clean
make
./build/demo samples/3.txt</pre>
      <p class="muted">è¼¸å‡ºå°‡é¡¯ç¤º 8Ã—8 åœ–æ¨£ã€éš±è—å±¤/è¼¸å‡ºå±¤è¨ˆç®—çµæœï¼Œä»¥åŠæœ€çµ‚çš„ <b>Argmax é æ¸¬</b>ã€‚</p>
    </section>

    <!-- Deploy to C -->
    <section class="card" id="deploy">
      <h3>å°‡æ¬Šé‡ä½ˆç½²åˆ° C æ¨è«–ç«¯</h3>
      <ol>
        <li>ç¢ºèªå·²åœ¨ <span class="mono">weights_raw/</span> ç”Ÿæˆå››å€‹æª”æ¡ˆï¼š<span class="mono">Hidden Bias</span>ã€<span class="mono">Hidden Weight</span>ã€<span class="mono">Output Bias</span>ã€<span class="mono">Output Weight</span>ã€‚</li>
        <li>åŸ·è¡Œè½‰æ›è…³æœ¬ï¼ˆä¾ä½ çš„ <span class="mono">scripts/</span> æˆ– Notebook æµç¨‹ï¼‰ã€‚</li>
        <li>æ–¼ <span class="mono">src/</span> çš„å‰å‘æ¨è«–ç¨‹å¼ <span class="mono">#include "weights/weights.h"</span>ï¼Œä¸¦ç¢ºä¿é€£çµ <span class="mono">weights/weights.c</span>ã€‚</li>
      </ol>
      <details>
        <summary>å¸¸è¦‹å•é¡Œ</summary>
        <p><b>Q1. å››å€‹æ¬Šé‡æª”éƒ½è¦æ”¾å—ï¼Ÿ</b> è¦çš„ã€‚FC çµæ§‹åŒæ™‚ä¾è³´æ¬Šé‡èˆ‡åç½®ï¼›å°‘ä»»ä¸€çµ„éƒ½æœƒå°è‡´è¼¸å‡ºéŒ¯èª¤æˆ–å´©æ½°ã€‚</p>
        <p><b>Q2. æˆ‘æƒ³åœ¨ç€è¦½å™¨ç›´æ¥æ¨è«–ï¼Ÿ</b> æ­¤å°ˆæ¡ˆåˆ»æ„ä¿æŒã€ŒC ç«¯æ¨è«–ã€çš„å–®ç´”æ€§ã€‚è‹¥è¦ Web æ¨è«–ï¼Œå¯ä»¥å¦å»º <span class="mono">WebAssembly</span> æˆ– <span class="mono">ONNX Runtime Web</span> åˆ†æ”¯ã€‚</p>
      </details>
    </section>

    <!-- Results / Notes -->
    <section class="card">
      <h3>çµæœèˆ‡é™åˆ¶</h3>
      <ul>
        <li class="ok">âœ… æ˜“è®€æ˜“æ”¹ï¼šä»¥æœ€å°‘ä¾è³´å±•ç¤ºç«¯å´æ¨è«–æµç¨‹ã€‚</li>
        <li class="ok">âœ… å¯æ”œï¼šæ¬Šé‡å³é™£åˆ—ï¼Œä»»æ„ C å°ˆæ¡ˆçš†å¯ includeã€‚</li>
        <li class="warn">âš ï¸ æ¨¡å‹å°ã€æœªé‡åŒ–ï¼šç²¾åº¦æœ‰é™ï¼Œå»ºè­°è¦–éœ€æ±‚åŠ å…¥é‡åŒ–/å‰ªæã€‚</li>
      </ul>
      <table class="table">
        <thead><tr><th>æ–¹å‘</th><th>ä¸‹ä¸€æ­¥</th></tr></thead>
        <tbody>
          <tr><td>æ•ˆèƒ½</td><td>8-bit é‡åŒ–ã€å‰ªæã€å¿«å–å‹å–„è¨˜æ†¶é«”ç‰ˆé¢</td></tr>
          <tr><td>æ¨¡å‹</td><td>æ¸¬è©¦æ›´å° CNN æˆ– MobileNet èˆ‡è’é›†è‡ªè£½è³‡æ–™</td></tr>
          <tr><td>éƒ¨ç½²</td><td>å¯¦æ©Ÿ MCU / FPGAï¼›ç”¢ç”Ÿ CMSIS-NN / TFLM ç‰ˆæœ¬</td></tr>
        </tbody>
      </table>
    </section>

    <section class="footer">
      <div>MIT Licensed Â· Â© 2025 TinyMLâ€‘DigitRecognizer</div>
      <div class="muted">Repoï¼š<a href="https://github.com/WuPinLiang/TinyML-DigitRecognizer" target="_blank" rel="noopener">WuPinLiang/TinyMLâ€‘DigitRecognizer</a></div>
    </section>
  </main>

  <script>
    // ===== Interactive Samples loader =====
    const grid = document.getElementById('grid');
    const raw = document.getElementById('raw');
    const sel = document.getElementById('digitSelect');
    const loadBtn = document.getElementById('loadBtn');
    const copyBtn = document.getElementById('copyBtn');

    // Build 8x8 placeholders
    const drawGrid = (vals=Array(64).fill(0))=>{
      grid.innerHTML = '';
      vals.forEach(v=>{
        const d = document.createElement('div');
        d.className = 'pix';
        const val = Number(v)||0;
        // intensity background
        const pct = Math.max(0, Math.min(255, val));
        const alpha = pct/255;
        d.style.background = `color-mix(in oklab, #22d3ee ${alpha*68}%, transparent)`;
        d.style.borderColor = `color-mix(in oklab, var(--text) ${8+alpha*20}%, transparent)`;
        grid.appendChild(d);
      });
    };
    drawGrid();

    async function loadDigit(d){
      try{
        const res = await fetch(`../samples/${d}.txt`, {cache:'no-store'});
        if(!res.ok) throw new Error('not found');
        const txt = await res.text();
        raw.textContent = txt.trim();
        const nums = txt.trim().split(/\s+|,|\n/).map(Number).filter(n=>!Number.isNaN(n));
        const vals = [];
        // Accept either 8 lines of 8 or flat 64 numbers
        if(nums.length===64){ vals.push(...nums); }
        else{
          const lines = txt.trim().split(/\n/).map(s=>s.trim()).filter(Boolean);
          lines.forEach(line=>{
            const row = line.split(/\s+|,/).map(Number).filter(n=>!Number.isNaN(n));
            vals.push(...row);
          });
        }
        while(vals.length<64) vals.push(0);
        drawGrid(vals.slice(0,64));
      }catch(err){
        raw.textContent = `âš ï¸ æ‰¾ä¸åˆ° samples/${d}.txtï¼Œè«‹ç¢ºèªæª”æ¡ˆå­˜åœ¨æ–¼ repoã€‚`;
        drawGrid(Array(64).fill(0));
      }
    }

    loadBtn.addEventListener('click', ()=> loadDigit(sel.value));
    copyBtn.addEventListener('click', async ()=>{
      try{
        await navigator.clipboard.writeText(raw.textContent);
        copyBtn.textContent = 'å·²è¤‡è£½ âœ…';
        setTimeout(()=>copyBtn.textContent='è¤‡è£½åŸå§‹æ–‡å­—', 1200);
      }catch(e){ alert('ç„¡æ³•è¤‡è£½ï¼š' + e.message); }
    });
  </script>
</body>
</html>
